<div class="container-fluid py-4" *ngIf="contentItem">
  <div class="row">
    <!-- Left Sidebar -->
    <div class="col-lg-3 col-md-4">
      <div class="details-sidebar art-card">
        <div class="sidebar-header content-padding">
          <h5 class="text-primary-blue mb-0">
            <i class="pi pi-navigation me-2"></i>
            Navigation
          </h5>
        </div>
        <div class="sidebar-content">
          
          <!-- Navigation Items -->
          <div class="nav-item" (click)="goBack()">
            <div class="nav-info">
              <div class="nav-icon">
                <i class="pi pi-arrow-left"></i>
              </div>
              <div class="nav-details">
                <h6 class="nav-name">Back to Previous</h6>
                <small class="text-muted">Return to previous page</small>
              </div>
            </div>
          </div>

          <div class="nav-item" (click)="goToTab('news')">
            <div class="nav-info">
              <div class="nav-icon">
                <i class="pi pi-book"></i>
              </div>
              <div class="nav-details">
                <h6 class="nav-name">News</h6>
                <small class="text-muted">Latest faculty news</small>
              </div>
            </div>
          </div>

          <div class="nav-item" (click)="goToTab('events')">
            <div class="nav-info">
              <div class="nav-icon">
                <i class="pi pi-calendar"></i>
              </div>
              <div class="nav-details">
                <h6 class="nav-name">Events</h6>
                <small class="text-muted">Upcoming events</small>
              </div>
            </div>
          </div>

          <div class="nav-item" (click)="goToTab('announcements')">
            <div class="nav-info">
              <div class="nav-icon">
                <i class="pi pi-megaphone"></i>
              </div>
              <div class="nav-details">
                <h6 class="nav-name">Announcements</h6>
                <small class="text-muted">Important announcements</small>
              </div>
            </div>
          </div>

          <div class="nav-item" (click)="goToTab('articles')">
            <div class="nav-info">
              <div class="nav-icon">
                <i class="pi pi-file-edit"></i>
              </div>
              <div class="nav-details">
                <h6 class="nav-name">Articles</h6>
                <small class="text-muted">Academic articles</small>
              </div>
            </div>
          </div>
        </div>

        <!-- Related Items Section -->
        <div class="related-section" *ngIf="relatedItems.length > 0">
          <div class="sidebar-header content-padding border-top">
            <h5 class="text-primary-blue mb-0">
              <i class="pi pi-tags me-2"></i>
              Related Items
            </h5>
          </div>
          <div class="related-content">
            <div *ngFor="let item of relatedItems" 
                 class="related-item"
                 (click)="navigateToRelated(item)">
              <div class="related-info">
                <div class="related-icon" [class]="getCategoryColor(item.category)">
                  <i [class]="getCategoryIcon(item.category)"></i>
                </div>
                <div class="related-details">
                  <h6 class="related-title">{{ item.title }}</h6>
                  <small class="related-category">{{ item.category | titlecase }}</small>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Main Content -->
    <div class="col-lg-9 col-md-8">
      <div class="content-details">
        
        <!-- Content Header -->
        <div class="content-header art-card mb-4">
          <div class="header-image-container" *ngIf="contentItem.imageUrl">
            <img [src]="contentItem.imageUrl" 
                 [alt]="contentItem.title"
                 class="header-image">
            <div class="header-overlay">
              <div class="category-badge" [ngClass]="'badge-' + contentItem.category">
                <i [class]="getCategoryIcon(contentItem.category)" class="me-2"></i>
                {{ contentItem.category | titlecase }}
              </div>
            </div>
          </div>
          
          <div class="header-content content-padding">
            <h1 class="content-title text-primary-blue mb-3">{{ contentItem.title }}</h1>
            
            <div class="content-meta">
              <div class="meta-item" *ngIf="contentItem.author">
                <i class="pi pi-user me-2"></i>
                <span>{{ contentItem.author }}</span>
              </div>
              <div class="meta-item">
                <i class="pi pi-calendar me-2"></i>
                <span>{{ formatDate(contentItem.publishDate) }}</span>
              </div>
              <div class="meta-item" *ngIf="isEventItem(contentItem)">
                <i class="pi pi-clock me-2"></i>
                <span>{{ formatTime(contentItem.startTime) }}
                  <span *ngIf="contentItem.endTime"> - {{ formatTime(contentItem.endTime) }}</span>
                </span>
              </div>
              <div class="meta-item" *ngIf="isEventItem(contentItem) && contentItem.location">
                <i class="pi pi-map-marker me-2"></i>
                <span>{{ contentItem.location }}</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Content Body -->
        <div class="content-body art-card">
          <div class="content-padding">
            <!-- Event Details (if event) -->
            <div *ngIf="isEventItem(contentItem) && contentItem.eventDate" class="event-details mb-4">
              <div class="alert alert-info">
                <h5 class="alert-heading">
                  <i class="pi pi-info-circle me-2"></i>
                  Event Information
                </h5>
                <div class="row">
                  <div class="col-md-6">
                    <p class="mb-1"><strong>Date:</strong> {{ formatDate(contentItem.eventDate) }}</p>
                    <p class="mb-1"><strong>Time:</strong> {{ formatTime(contentItem.startTime) }}
                      <span *ngIf="contentItem.endTime"> - {{ formatTime(contentItem.endTime) }}</span>
                    </p>
                  </div>
                  <div class="col-md-6">
                    <p class="mb-1"><strong>Location:</strong> {{ contentItem.location }}</p>
                  </div>
                </div>
              </div>
            </div>

            <!-- Summary -->
            <div class="content-summary mb-4">
              <p class="lead">{{ contentItem.summary }}</p>
            </div>

            <!-- Full Content -->
            <div class="content-text">
              <div class="formatted-content" [innerHTML]="contentItem.fullContent"></div>
            </div>
          </div>
        </div>

        <!-- Action Buttons -->
        <div class="content-actions mt-4">
          <button class="btn btn-secondary-custom me-3" (click)="goBack()">
            <i class="pi pi-arrow-left me-2"></i>
            Back to Previous
          </button>
          <button class="btn btn-primary-custom" (click)="goToTab(contentItem.category)">
            <i class="pi pi-list me-2"></i>
            Browse More {{ contentItem.category | titlecase }}
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Loading/Error State -->
<div *ngIf="!contentItem" class="container-fluid py-4">
  <div class="row">
    <div class="col-12">
      <div class="art-card content-padding text-center">
        <i class="pi pi-exclamation-triangle text-muted" style="font-size: 3rem;"></i>
        <h4 class="text-muted mt-3">Content Not Found</h4>
        <p class="text-muted">The requested content could not be found.</p>
        <button class="btn btn-primary-custom" (click)="goBack()">
          <i class="pi pi-arrow-left me-2"></i>
          Go Back
        </button>
      </div>
    </div>
  </div>
</div>